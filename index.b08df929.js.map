{"mappings":"AAAsBA,SAASC,cAAc,cAClBD,SAASC,cAAc,iBACnCD,SAASE,gBACCF,SAASC,cAAc","sources":["src/js/theme.js"],"sourcesContent":["const themeButtonEl = document.querySelector('.theme__on'); // Кнопка теми\nconst resetThemeButtonEl = document.querySelector('.theme__reset'); // Кнопка скидання налаштувань користувача\nconst htmlEl = document.documentElement; // HTML root element (корневий елемент)\nconst themeContainerEl = document.querySelector('.theme-container') \n\nlet inLocalStorageTheme;\n\n\nfunction windowLoad() {\n    inLocalStorageTheme = localStorage.getItem('user-theme'); // Отримаємо збережену тему\n\n    setThemeClass() // Дивиться чи є в локал стореджі брережена тема, якщо не - системна тема\n    \n    if (!localStorage) {\n        listenerOsThemeOn()\n    }\n\n    themeButtonEl.addEventListener('click', () => {\n        listenerOsThemeOff()\n        changeTheme()\n    });\n    resetThemeButtonEl.addEventListener('click', () => {\n        listenerOsThemeOn();\n        setOsTheme();\n    })\n}\n\nfunction listenerOsThemeOn() {\n    window.matchMedia('(prefers-color-scheme: dark)').addEventListener('change', setOsTheme)\n}\n\nfunction listenerOsThemeOff() {\n    window.matchMedia('(prefers-color-scheme: dark)').removeEventListener('change', setOsTheme)\n}\n\nfunction changeTheme() { \n    let currentTheme = htmlEl.classList.contains('light') ? 'light' : 'dark'; \n    let newTheme;\n\n    if (currentTheme === 'light') {\n        newTheme = 'dark';\n    }\n    else if (currentTheme === 'dark') {\n        newTheme = 'light';\n    }\n\n    htmlEl.classList.remove(currentTheme);\n    htmlEl.classList.add(newTheme);  \n\n    \n    localStorage.setItem('user-theme', newTheme)\n    console.log(inLocalStorageTheme)\n    resetThemeButtonEl.classList.add('active');  \n};\n\nfunction setThemeClass() {\n    if (inLocalStorageTheme) {\n        htmlEl.classList.add(inLocalStorageTheme);\n        resetThemeButtonEl.classList.add('active')\n    }\n    else {\n       setOsTheme()\n    }\n}\nfunction setOsTheme() {\n    let userThemeOS = window.matchMedia('(prefers-color-scheme: dark)').matches ? 'dark' : 'light'; // Отримуємо тему операційної системи\n\n    if (htmlEl.classList.contains('light')) {\n        htmlEl.classList.toggle('light');\n    }\n    else {\n        htmlEl.classList.toggle('dark');  \n    }\n\n    htmlEl.classList.add(userThemeOS);\n    localStorage.removeItem('user-theme');\n\n    resetThemeButtonEl.classList.remove('active');\n};\n\n"],"names":["document","querySelector","documentElement"],"version":3,"file":"index.b08df929.js.map"}