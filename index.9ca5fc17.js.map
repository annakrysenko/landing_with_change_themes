{"mappings":"AAAA,MAAMA,EAAgBC,SAASC,cAAc,cACvCC,EAAqBF,SAASC,cAAc,iBAC5CE,EAASH,SAASI,gBACCJ,SAASC,cAAc,oBAEhD,SAASI,IAAwB,OAAOC,aAAaC,QAAQ,a,CAqB7D,SAASC,IACLC,OAAOC,WAAW,gCAAgCC,iBAAiB,UAAU,KAC3C,OAA1BN,KACJO,GAAY,G,CAsCpB,SAASA,IACLN,aAAaO,WAAW,cAExB,IAAIC,EAAcL,OAAOC,WAAW,gCAAgCK,QAAU,OAAS,QAEvFZ,EAAOa,UAAUC,OAAO,QAAS,QAEjCd,EAAOa,UAAUE,IAAIJ,GAErBZ,EAAmBc,UAAUC,OAAO,S,CArElBR,OAAfE,iBAAiB,QAEQ,WAiDxBN,KACAF,EAAOa,UAAUE,IAAIb,KACrBH,EAAmBc,UAAUE,IAAI,WAGlCN,IAnDEP,KACDG,IAGJT,EAAcY,iBAAiB,SAAS,KAmBxCF,OAAOC,WAAW,gCAAgCS,oBAAoB,SAAUP,GAGpF,WACI,IACIQ,EADAC,EAAelB,EAAOa,UAAUM,SAAS,SAAW,QAAU,OAG7C,UAAjBD,EACAD,EAAW,OAEW,SAAjBC,IACLD,EAAW,SAGfjB,EAAOa,UAAUC,OAAOI,GACxBlB,EAAOa,UAAUE,IAAIE,GAGrBd,aAAaiB,QAAQ,aAAcH,GACnClB,EAAmBc,UAAUE,IAAI,S,CApC7BM,EAAa,IAEjBtB,EAAmBS,iBAAiB,SAAS,KACzCH,IACAI,GAAY,G","sources":["src/js/theme.js"],"sourcesContent":["const themeButtonEl = document.querySelector('.theme__on'); // Кнопка теми\nconst resetThemeButtonEl = document.querySelector('.theme__reset'); // Кнопка скидання налаштувань користувача\nconst htmlEl = document.documentElement; // HTML root element (корневий елемент)\nconst themeContainerEl = document.querySelector('.theme-container') \n\nfunction inLocalStorageTheme() { return localStorage.getItem('user-theme') } // Отримаємо збережену тему\n\nwindow.addEventListener('load', windowLoad)// Чекаємо, що вся сторінка прогрузилась \n\nfunction windowLoad() {\n    setThemeClass() // Дивиться чи є в локал стореджі брережена тема, якщо не - системна тема\n\n    if (!inLocalStorageTheme()) { // якщо локал сторедж пустий\n        listenerOsThemeOn()\n    }\n\n    themeButtonEl.addEventListener('click', () => {\n        listenerOsThemeOff()\n        changeTheme()\n    });\n    resetThemeButtonEl.addEventListener('click', () => {\n        listenerOsThemeOn();\n        setOsTheme();\n    })\n}\n\nfunction listenerOsThemeOn() {\n    window.matchMedia('(prefers-color-scheme: dark)').addEventListener('change', () => {\n        if (inLocalStorageTheme() === null) {\n        setOsTheme()\n        }\n    })    \n}\n\nfunction listenerOsThemeOff() {\n    window.matchMedia('(prefers-color-scheme: dark)').removeEventListener('change', setOsTheme)\n}\n\nfunction changeTheme() { \n    let currentTheme = htmlEl.classList.contains('light') ? 'light' : 'dark'; \n    let newTheme;\n\n    if (currentTheme === 'light') {\n        newTheme = 'dark';\n    }\n    else if (currentTheme === 'dark') {\n        newTheme = 'light';\n    }\n\n    htmlEl.classList.remove(currentTheme);\n    htmlEl.classList.add(newTheme);  \n\n    \n    localStorage.setItem('user-theme', newTheme)\n    resetThemeButtonEl.classList.add('active');  \n};\n\nfunction setThemeClass() {\n    if (inLocalStorageTheme()) {\n        htmlEl.classList.add(inLocalStorageTheme());\n        resetThemeButtonEl.classList.add('active')\n    }\n    else {\n       setOsTheme()\n    }\n}\n\nfunction setOsTheme() {\n    localStorage.removeItem('user-theme');\n\n    let userThemeOS = window.matchMedia('(prefers-color-scheme: dark)').matches ? 'dark' : 'light'; // Отримуємо тему операційної системи\n\n    htmlEl.classList.remove('light', 'dark')\n\n    htmlEl.classList.add(userThemeOS);\n\n    resetThemeButtonEl.classList.remove('active');\n};\n\n"],"names":["$38bc8b2c82e947f6$var$themeButtonEl","document","querySelector","$38bc8b2c82e947f6$var$resetThemeButtonEl","$38bc8b2c82e947f6$var$htmlEl","documentElement","$38bc8b2c82e947f6$var$inLocalStorageTheme","localStorage","getItem","$38bc8b2c82e947f6$var$listenerOsThemeOn","window","matchMedia","addEventListener","$38bc8b2c82e947f6$var$setOsTheme","removeItem","userThemeOS","matches","classList","remove","add","removeEventListener","newTheme","currentTheme","contains","setItem","$38bc8b2c82e947f6$var$changeTheme"],"version":3,"file":"index.9ca5fc17.js.map"}